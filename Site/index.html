<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <title>A JSON Framework for Cocoa</title>
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
</head>

<body>

<h1>JSON Objective-C Framework</h1>

<p>JSON (JavaScript Object Notation) is a lightweight data-interchange
format. This framework contains a collection of categories adding full
JSON support to existing Cocoa classes.</p>

<h2>Adding JSON support to Objective-C</h2>

<p>Linking to the <a href="__DMGURL__">JSON</a> framework and
importing the <code>&lt;JSON/JSON.h&gt;</code> header provides the
following main methods:</p>

<pre>
-[NSArray JSONString];
-[NSDictionary JSONString];
-[NSString objectFromJSON];
</pre>

<p>The methods added to NSArray and NSDictionary return an NSString
containing their JSON representations. (See note below on mapping
NSDictionary instances to JSON objects.) The method added to NSString
returns either an NSArray or NSDictionary representing the JSON it
contains.</p>

<h2>JSON fragments</h2>

<p>Strictly speaking JSON must have <strong>exactly one</strong>
top-level container. (Either an array or an object.) Nulls, numbers,
booleans and strings cannot be represented in strict JSON on their
own. It can be quite convenient to <em>pretend</em> that such
fragments are valid JSON and the following methods will let you do
so:</p>

<pre>
-[NSNull JSONStringFragment];
-[NSNumber JSONStringFragment];
-[NSString JSONStringFragment];
-[NSString objectFromJSONFragment];
</pre>

<p>They work as you would expect from reading about the <em>real</em>
JSON methods above.</p>

<h2>Mapping between JSON and Objective-C types</h2>

<p>Here's how the distinct JSON types map to Objective-C types.</p>

<pre>
Object  <=> NSDictionary[1]
Array   <=> NSArray
String  <=> NSString
Null    <=> NSNull
Boolean <=> NSNumber[2]
Number  <=  NSNumber[3]
Number   => NSDecimalNumber[4]
</pre>

<ol>

<li>In JSON the keys of an object <strong>must</strong> be strings.
NSDictionary keys need not be, but attempting to convert an
NSDictionary with non-string keys into JSON will throw an
exception.</li>

<li>The JSON boolean "true" and "false" values are represented by
NSNumber instances created with the +numberWithBool: method.</li>

<li>Any NSNumber instance <strong>other than</strong> the previously
mentioned booleans will be converted to a JSON number the way you
would expect.</li>

<li>JSON numbers turn into NSDecimalNumber instances. (Because it was
simpler to implement the parser that way.)</li>

</ol>

<h2>Resources</h2>

<ul>
<li><a href="news.xml">News</a> (RSS).</li>
<li><a href="__DMGURL__">JSON embedded framework</a> disk image.</li>
<li>Subversion: <a href="http://svn.brautaset.org/JSON/trunk">http://svn.brautaset.org/JSON/trunk</a>.</li>
<li>Guide to <a href="http://blog.brautaset.org/2007/09/22/embedding-cocoa-frameworks/">embedding frameworks in Cocoa</a>.</li>
<li><a href="http://json.org/">Introducing JSON</a>.</li>
<li><a href="http://www.ietf.org/rfc/rfc4627.txt?number=4627">RFC4627</a>.</li>
</ul>


</body>
</html>

<h2>Feedback / praise / bug reports</h2>

<p>Email <a href="mailto:stig@brautaset.org">Stig Brautaset</a> please.</li>


<h2>Apologies</h2>

<p>This page is just about all the documentation that exists at the
moment. The code is pretty stable and well tested though.</p>
